<h1 id="1-mybatis-传参orderby和字符串替换">1. Mybatis 传参OrderBy和字符串替换</h1>
<!-- TOC -->

<ul>
  <li><a href="#1-mybatis-传参orderby和字符串替换">1. Mybatis 传参OrderBy和字符串替换</a>
    <ul>
      <li><a href="#11-mybatis-使用动态-order-by">1.1. Mybatis 使用动态 Order By</a></li>
      <li><a href="#12-字符串替换">1.2. 字符串替换</a></li>
    </ul>
  </li>
</ul>

<!-- /TOC -->
<h2 id="11-mybatis-使用动态-order-by">1.1. Mybatis 使用动态 Order By</h2>

<blockquote>
  <p>默认情况下，mybatis使用 <code class="highlighter-rouge">#{  }</code> 格式解析用户传递的变量， 但是使用该种方式解析普通变量时， Mybatis会对变量进行<code class="highlighter-rouge">转义</code>操作，如果我们传入的参数时用来 <code class="highlighter-rouge">order by name desc</code> 的话，那么该变量在<code class="highlighter-rouge">转义</code>以后无法表达排序的意思，这时候，我们需要使用 <code class="highlighter-rouge">#{  }</code> 来解析</p>
</blockquote>

<h2 id="12-字符串替换">1.2. 字符串替换</h2>

<p><strong>以下内容来源于</strong><a href="http://www.mybatis.org/mybatis-3/zh/sqlmap-xml.html">Mybatis</a></p>

<blockquote>
  <p>默认情况下,使用<code class="highlighter-rouge">#{}</code>格式的语法会导致 MyBatis 创建预处理语句属性并安全地设置值（比如<code class="highlighter-rouge">?</code>）。这样做<code class="highlighter-rouge">更安全</code>，<code class="highlighter-rouge">更迅速</code>，通常也是<code class="highlighter-rouge">首选做法</code>，不过有时你只是想直接在 SQL 语句中插入一个<code class="highlighter-rouge">不改变</code>的字符串。比如，像 <code class="highlighter-rouge">ORDER BY</code>，你可以这样来使用：</p>
  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ORDER BY ${columnName}
这里 MyBatis 不会修改或转义字符串。
</code></pre></div>  </div>
  <p><strong>NOTE</strong> 以这种方式接受从用户输出的内容并提供给语句中不变的字符串是<code class="highlighter-rouge">不安全的</code>，会导致潜在的<code class="highlighter-rouge"> SQL 注入攻击</code>，因此要么不允许用户输入这些字段，要么自行转义并检验。</p>
</blockquote>
